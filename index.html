
<!DOCTYPE html>
<html>
    <head>
        <title>OpenLayers Cookbook - Antonio Santiago</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <!-- Dojo -->
        <script type="text/javascript">
            // Define some Dojo configuration
            var dojoConfig = {
                async: true,
                parseOnLoad: true,
                idDebug: true
            };
        </script>
        <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.0/dojo/dojo.js"></script>
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.8.0/dijit/themes/claro/claro.css"/>
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.8.0/dijit/themes/claro/document.css"/>

        <!-- OpenLayers -->
        <script type="text/javascript" src="http://www.acuriousanimal.com/Openlayers-Cookbook/js/OpenLayers-2.12/OpenLayers.js"></script>
        <link rel="stylesheet" href="http://www.acuriousanimal.com/Openlayers-Cookbook/js/OpenLayers-2.12/theme/default/style.css" type="text/css">

        <!-- Custom CSS -->
        <link rel="stylesheet" type="text/css" href="http://www.acuriousanimal.com/Openlayers-Cookbook/css/cookbook.css"> 

    </head>

<style>
    table.tm {
        width: 100%;
        height: 100%;
    }
    table.tm td.left, table.tm td.right {
        border: 1px solid #ccc;
        margin: 0;
        padding: 0;
    }

    table.tm td.left {
        width: 75%;
    }
    table.tm td.right {
        width: 25%;
        vertical-align: top;
        padding: 5px;
    }
    table.tb {
        border: 0;

    }
</style>
<table class="tm">
    <tr>
        <td class="right">
            <p>Select:</p>

            <table class="tb">
                <tr>
                    <td>Select District:</td>
                    <td>
                        <select id="distSelection" data-dojo-type="dijit/form/Select" onChange="vilChange()">
                            <option value="Ambala-0">Ambala</option>
                            <option value="Bhiwani-1">Bhiwani</option>
                            <option value="Faridabad-2">Faridabad</option>
                            <option value="Fatehabad-3">Fatehabad</option>
                            <option value="Gurgaon-4">Gurgaon</option>
                            <option value="Hisar-5">Hisar</option>
                            <option value="Jhajjar-6">Jhajjar</option>
                            <option value="Jind-7">Jind</option>
                            <option value="Kaithal">Kaithal</option>
                            <option value="Karnal">Karnal</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Select Village:</td>
                    <td>
                        <select id="vilSelection" data-dojo-type="dijit/form/Select">
                            <option value="Ambala">Ambala</option>
                            <option value="Bharara">Bharara</option>
                            <option value="Naraingarh">Naraingarh</option>                            
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Select Feature:</td>
                    <td>
                        <select id="featureSelection" data-dojo-type="dijit/form/Select">
                            <option value="agriculture">Agriculture Land</option>
                            <option value="graveyard">Graveyard</option>
                            <option value="idgah">Idgah</option>
                            <option value="khankaha">Khankaha</option>
                            <option value="mosque">Mosque/Others</option>
                            <option value="imambara">Imambara</option>
                            <option value="pond">Pond</option>
                            <option value="madarasa">Madarasa</option>
                            <option value="plot">House/Plot</option>
                        </select>
                    </td>
                </tr>
            </table>

            <table class="tb">
                <tr>
                    <p>Info:</p>
                </tr>
                

            </table>

        </td>
        <td class="left">
            <div id="ch1_managing_layers" style="width: 100%; height: 500px;"></div>
        </td>
    </tr>
</table>


<!-- The magic comes here -->
<script type="text/javascript">
    
    function vilChange(){
        district = document.getElementById("distSelection").value.split('-')[0];
        index = document.getElementById("distSelection").value.split('-')[1];
        ambala = `
               <option value="Bharara">Bharara</option>
               <option value="Naraingarh">Naraingarh</option>
               <option value="Ambala">Ambala</option>
               `;
        bandhra = `
                <option value="Bandhra">Bandhra</option>
                <option value="Bhawani Kehra">Bhawani Kehra</option>
                <option value="Bhiwani">Bhiwani</option>
                <option value="Loharu">Dadri</option>
                <option value="Shiwani">Shiwani</option>
                <option value="Tosham">Tosham</option>
                `;
        villages = [ambala, bandhra];

        document.getElementById("vilSelection").innerHTML=villages[index];
    }

    // Create the map using the specified DOM element
    var map = new OpenLayers.Map("ch1_managing_layers", {
        allOverlays: true
    });

    // Add some OSM based layers using an array of URL sources
    var arrayOSM = ["http://otile1.mqcdn.com/tiles/1.0.0/osm/${z}/${x}/${y}.jpg",
        "http://otile2.mqcdn.com/tiles/1.0.0/osm/${z}/${x}/${y}.jpg",
        "http://otile3.mqcdn.com/tiles/1.0.0/osm/${z}/${x}/${y}.jpg",
        "http://otile4.mqcdn.com/tiles/1.0.0/osm/${z}/${x}/${y}.jpg"];
    var arrayAerial = ["http://oatile1.mqcdn.com/tiles/1.0.0/sat/${z}/${x}/${y}.jpg",
        "http://oatile2.mqcdn.com/tiles/1.0.0/sat/${z}/${x}/${y}.jpg",
        "http://oatile3.mqcdn.com/tiles/1.0.0/sat/${z}/${x}/${y}.jpg",
        "http://oatile4.mqcdn.com/tiles/1.0.0/sat/${z}/${x}/${y}.jpg"];

    var baseAerial = new OpenLayers.Layer.OSM("MapQuest-Aerial", arrayAerial);
    var baseOSM = new OpenLayers.Layer.OSM("MapQuest-OSM", arrayOSM, {opacity: 0.6});
    map.addLayers([baseAerial, baseOSM]);

    // Add LayerSwitcher control
    map.addControl(new OpenLayers.Control.LayerSwitcher({ascending: false}));
    // Center the view at some place
    map.setCenter(new OpenLayers.LonLat(-100, 40), 4);
        
    // Button events
    function raiseLayer() {
        var layerName = dijit.byId('layerSelection').get('value');
        var layer = map.getLayersByName(layerName)[0];
        map.raiseLayer(layer, 1);
    }
    function lowerLayer() {
        var layerName = dijit.byId('layerSelection').get('value');
        var layer = map.getLayersByName(layerName)[0];
        map.raiseLayer(layer, -1);
    }
    function topLayer() {
        var layerName = dijit.byId('layerSelection').get('value');
        var layer = map.getLayersByName(layerName)[0];
        var lastIndex = map.getNumLayers()-1;
        map.setLayerIndex(layer, lastIndex);
    }
    function bottomLayer() {
        var layerName = dijit.byId('layerSelection').get('value');
        var layer = map.getLayersByName(layerName)[0];
        map.setLayerIndex(layer, 0);
    }
</script>

</html>